// Import Google Fonts
@import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap");

// Define theme variables
$body-bg: #1b1b1b;
$body-color: #e0e0e0;
$primary-bg: #2e2e2e;
$primary-color: #fff;
$mention-bg: #ff4081;
$mention-color: #fff;
$highlight-bg: #ff4081;
$highlight-color: #fff;
$userlist-bg: #292929;
$userlist-color: #ccc;
$input-bg: #1e1e1e;
$input-color: #fff;
$header-bg: #202020;
$header-color: #fff;
$border-color: #3c3c3c;
$link-color: #82aaff;
$timestamp-color: #888;
$message-bg-you: #3a3a3a;
$message-bg-others: #2b2b2b;
$bubble-radius: 1.2em;

// Body styling
body {
  font-family: "Open Sans", sans-serif;
  background-color: $body-bg;
  color: $body-color;
}

// Header styles
#header {
  background-color: $header-bg;
  color: $header-color;
}

// Sidebar styles
#sidebar {
  background-color: $userlist-bg;
  color: $userlist-color;

  .network .name,
  .chan.active .name {
    color: $primary-color;
  }
}

// Chat area styles
#chat {
  background-color: $body-bg;
  color: $body-color;
}

// Input area styles
#input {
  background-color: $input-bg;
  color: $input-color;
  border-top: 1px solid $border-color;
}

// Link styles
a {
  color: $link-color;
}

// Timestamp styles
.timestamp {
  color: $timestamp-color;
}

// Mention highlight
.message.highlight {
  background-color: $highlight-bg;
  color: $highlight-color;
}

// Global Chat Bubbles
#chat .messages .msg {
  max-width: 65%;
  margin: 0.3em 0;
  padding: 0.6em 1em;
  border-radius: $bubble-radius;
  position: relative;
  word-wrap: break-word;
  clear: both;
}

#chat .messages .msg.self {
  background-color: $message-bg-you;
  color: $body-color;
  margin-left: auto;
  margin-right: 0.5em;
  border-bottom-right-radius: 0.2em;
  text-align: left;
}

#chat .messages .msg:not(.self) {
  background-color: $message-bg-others;
  color: $body-color;
  margin-right: auto;
  margin-left: 0.5em;
  border-bottom-left-radius: 0.2em;
  text-align: left;
}

// Nicknames inside messages
#chat .messages .msg .from {
  font-weight: bold;
  margin-bottom: 0.3em;
  display: block;
  color: $link-color;
}

// Action messages (/me)
#chat .messages .msg.action {
  font-style: italic;
  opacity: 0.85;
  background-color: transparent;
  padding: 0.2em 0.4em;
}

// Message grouping spacing
#chat .messages .msg + .msg {
  margin-top: 0.25em;
}

// Highlight for mentions
#chat .messages .msg.highlight {
  border-left: 3px solid $mention-bg;
  background-color: #442228;
}

// Scrollbar styles
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: $body-bg;
}

::-webkit-scrollbar-thumb {
  background-color: $border-color;
  border-radius: 4px;
}

// Fix name alignment on bubbles
#chat .messages .msg .from:before {
  content: "";
  display: inline-block;
  margin-right: 0.3em;
}

// Responsive tweak for small screens
@media screen and (max-width: 768px) {
  #chat .messages .msg {
    max-width: 90%;
  }
}
